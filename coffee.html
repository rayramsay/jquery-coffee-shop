<!DOCTYPE html>
<html>
<head>
    <title>Hackbright Coffee Shop</title>

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link href="static/coffee.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
</head>
<body>
<div class="container">
    <div class="starter-template">
        <h1>Coffee Shop</h1>
        <br>

        <img id="coffee_image" src="LOLWUT" alt="make this image work" height="300" width="200">

        <h3 id="message">Click The Image To Order Coffee</h3>

        <table class="table">
            <tr>
                <td class="col-md-2">
                    <button class="btn btn-default" id="espresso">Espresso</button>
                </td>
                <td class="col-md-2">
                    <button class="btn btn-default" id="latte">Latte</button>
                </td>
                <td class="col-md-2">
                    <button class="btn btn-default" id="hot-chocolate">Hot Chocolate</button>
                </td>
            </tr>
            <tr>
                <td>$3.25</td>
                <td>$4.15</td>
                <td>$2.50</td>
            </tr>
        </table>

        <h4>Total: <span id="revenue"><!-- Revenue Message will show up here --></span></h4>
    </div>
</div>

<script src="http://code.jquery.com/jquery.js"></script>
<script>
    
    var drinksOrdered = [];
    var prices = {"brew": 2.05, "espresso": 3.25, "latte": 4.15, "hotChocolate": 2.50};

    $("#coffee_image").attr("src", "static/coffee_beans.jpg");

    function revenue(drinksOrdered, prices) {
        var total = 0
        for (var i = 0; i < drinksOrdered.length; i++) {
            total += prices[drinksOrdered[i]];
        }
        return total
    }

    function makeCoffee(drinkType) {

        drinksOrdered.push(drinkType);
        console.log(drinksOrdered);
        var myRevenue = revenue(drinksOrdered, prices);
        $("#revenue").html(myRevenue);

        $("#coffee_image").attr("src", "static/coffee_machine.jpg");
        setTimeout(function() { $("#coffee_image").attr("src", "static/coffee_mug.jpg"); }, 500);
        setTimeout(function() { $("#coffee_image").attr("src", "static/coffee_beans.jpg"); }, 1500);

        return drinksOrdered;
    }

    $("#coffee_image").on('click', function () {
        makeCoffee('brew');
    });

    $("#latte").on('click', function () {
        makeCoffee('latte');
    });

    // Schedule an event listener on the element with the id espresso. When the user clicks the selected element, the anonymous function is called. The annoymous function calls makeCoffee, passing the argument "espresso."
    $("#espresso").on('click', function () {
        makeCoffee('espresso');
    });

    $('#hot-chocolate').on('click', function () {
        makeCoffee('hotChocolate');
    });

</script>

</body>
</html>